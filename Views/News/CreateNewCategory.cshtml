
@{
    ViewData["Title"] = "CreateNewCategory";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="m-content">
    <div class="row" id="app">
        <div class="col-xl-12">
            <!--Begin::Main Portlet-->
            <div class="m-portlet">

                <!--begin: Form Wizard-->
                <div class="m-wizard m-wizard--1 m-wizard--success" id="m_wizard">

                    <!--begin: Form Wizard Head -->
                    <!--end: Form Wizard Head -->
                    <!--begin: Form Wizard Form-->
                    <div class="m-wizard__form">
                        <!--
                        1) Use m-form--label-align-left class to alight the form input lables to the right
                        2) Use m-form--state class to highlight input control borders on form validation
                        -->
                        <form class="m-form m-form--label-align-left- m-form--state-" id="m_form">
                            <!--begin: Form Body -->
                            <!--begin: Form Wizard -->
                            <div class="m-portlet__foot m-portlet__foot--fit m--margin-top-40">
                                <div class="m-form__actions m-form__actions">
                                    <div class="row">
                                        <div class="col-xl-8 offset-xl-2">
                                            <div class="m-form__section m-form__section--first">
                                                <div class="m-form__heading">
                                                    <h3 class="m-form__heading-title">
                                                        Create News Category
                                                    </h3>
                                                </div>

                                                <div class="form-group m-form__group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">
                                                        * Category Name:
                                                    </label>
                                                    <div class="col-xl-9 col-lg-9">
                                                        <input type="text" name="Name" class="form-control m-input" placeholder="" value="">
                                                    </div>

                                                </div>

                                                @*<div class="form-group m-form__group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">
                                                            * Slug:
                                                        </label>
                                                        <div class="col-xl-9 col-lg-9">
                                                            <input type="text" name="Slug" class="form-control m-input" placeholder="" value="" autocomplete="off">
                                                        </div>
                                                    </div>*@

                                                <div class="form-group m-form__group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">
                                                        * MetaDescription
                                                    </label>
                                                    <div class="col-xl-9 col-lg-9">
                                                        <input type="text" name="MetaDescription" class="form-control m-input" placeholder="" value="" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--end: Form Wizard Step 2-->
                                        <!--end: Form Body -->
                                    </div>
                                </div>
                            </div>
                            <!--begin: Form Actions -->
                            <div class="m-portlet__foot m-portlet__foot--fit m--margin-top-40">
                                <div class="m-form__actions m-form__actions">
                                    <div class="row">
                                        <div class="col-lg-2"></div>
                                        <div class="col-lg-4 m--align-right">
                                            <a href="#" class="btn btn-warning m-btn m-btn--custom m-btn--icon" id="btnSave">
                                                <span>
                                                    <span>
                                                        Save
                                                    </span>
                                                </span>
                                            </a>
                                            <a href="#" class="btn btn-warning m-btn m-btn--custom m-btn--icon" id="btnCancel">
                                                <span>
                                                    <span>
                                                        Cancel
                                                    </span>
                                                </span>
                                            </a>

                                        </div>
                                        <div class="col-lg-2"></div>
                                    </div>
                                </div>
                            </div>


                            <!--end: Form Actions -->
                        </form>

                    </div>
                    <!--end: Form Wizard Form-->
                </div>
                <!--end: Form Wizard-->
            </div>
            <!--End::Main Portlet-->
        </div>

    </div>
</div>


@section Scripts {
    <script src="~/assets/demo/default/custom/components/forms/wizard/wizard.js" type="text/javascript"></script>

    <script>
        function AjaxSaveCategory() {
            var formData = new FormData($('#m_form')[0]);

            $.ajax({
                url: '/News/CreateNewCategory',
                type: 'POST',
                data: formData, // serializes the form's elements.
                contentType: false,
                processData: false,
                success: function (response) {
                    if (response.result) {
                        swal("", response.message, "success");
                    }
                    else {
                        swal("", response.message, "warning");

                    } setTimeout(function () {

                        location.reload();

                        //End
                    }, 5000);

                },
                error: function (error) {
                    alert("Đã bị lỗi");
                }
            })
        }
        $("#btnSave").on("click", AjaxSaveCategory)
    </script>
}

